# SOLID 原則編碼規則

本文檔定義了基於SOLID原則的編碼規則和最佳實踐，用於指導軟體開發過程。

## 單一職責原則 (SRP)

> 一個類應該只有一個引起變化的原因。

### 規則

1. **每個類或模組只應負責一個功能或職責**
   - 一個類不應該承擔多個不相關的責任
   - 如果類的描述中出現"和"、"或"、"以及"等詞，可能違反SRP

2. **方法應該短小且專注**
   - 方法不應超過25-30行
   - 一個方法只做一件事

3. **類的大小應受限制**
   - 類不應超過300-500行
   - 如果類過大，考慮分解為多個小類

## 開閉原則 (OCP)

> 軟件實體（類、模組、函數等）應該對擴展開放，對修改封閉。

### 規則

1. **擴展行為應無需修改現有代碼**
   - 新功能應通過添加新代碼來實現，而非修改現有代碼
   - 使用抽象類和接口來支持擴展

2. **避免大量條件判斷**
   - 如果代碼中包含大量if-else或switch，考慮使用多態
   - 條件判斷的增加通常意味著對修改不夠封閉

## 里氏替換原則 (LSP)

> 子類型必須能夠替換其基類型，而不改變程序的正確性。

### 規則

1. **子類方法不應削弱前置條件**
   - 子類方法參數應該接受與父類方法相同或更寬泛的輸入
   - 不要在子類中為參數添加更嚴格的限制

2. **子類方法不應加強後置條件**
   - 子類方法返回值應滿足與父類方法相同或更嚴格的要求
   - 不要返回父類未承諾的異常或特殊值

## 接口隔離原則 (ISP)

> 客戶端不應該被迫依賴於它們不使用的接口。

### 規則

1. **接口應該小而專注**
   - 接口應只包含客戶端需要的方法
   - 大型接口應分解為多個小型、專注的接口

2. **避免"胖"接口**
   - 不要設計包含許多不相關方法的接口
   - 接口方法數量應該有合理限制（通常不超過5-7個）

## 依賴反轉原則 (DIP)

> 高層模塊不應該依賴低層模塊，兩者都應該依賴抽象。抽象不應該依賴細節，細節應該依賴抽象。

### 規則

1. **使用抽象（接口或抽象類）定義依賴關係**
   - 類應依賴接口或抽象類，而非具體實現
   - 這使得系統更加模塊化和可測試

2. **通過依賴注入提供依賴**
   - 不要在類內部創建依賴對象
   - 依賴應該通過構造函數、setter方法或方法參數注入 